labels:
  app: web-frontend   # logical base name used by helpers; change if desired

app:
  containerPort: 8080
  replicas: 2
  resources:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "500m"
      memory: "1Gi"

  # images placeholders (blue/green)
  imageWebBlue: "docker.io/YOUR_DOCKERHUB_USER/web-frontend:latest"
  imageWebGreen: "docker.io/YOUR_DOCKERHUB_USER/web-frontend:latest"
  imageProductBlue: "docker.io/YOUR_DOCKERHUB_USER/product-service:latest"
  imageProductGreen: "docker.io/YOUR_DOCKERHUB_USER/product-service:latest"
  imageOrderBlue: "docker.io/YOUR_DOCKERHUB_USER/order-service:latest"
  imageOrderGreen: "docker.io/YOUR_DOCKERHUB_USER/order-service:latest"

activeColor: "blue"

postgres:
  enabled: true
  image: "postgres:15"
  postgresUser: "postgres"
  postgresPassword: "changeme"
  postgresDatabase: "ecommerce"
  storage:
    size: 10Gi
  resources:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "500m"
      memory: "1Gi"

prometheus:
  enabled: true
  image: prom/prometheus:v2.45.0
  service:
    type: ClusterIP
    port: 9090  # added port
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"

grafana:
  enabled: true
  image: grafana/grafana:10.0.0
  service:
    type: ClusterIP
    port: 3000  # added port
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"

service:
  type: ClusterIP
  port: 80

# Optional: probes for Autopilot
probes:
  liveness:
    httpGet:
      path: /actuator/health/liveness
      port: 8080
    initialDelaySeconds: 30
    periodSeconds: 10
  readiness:
    httpGet:
      path: /actuator/health/readiness
      port: 8080
    initialDelaySeconds: 20
    periodSeconds: 10
